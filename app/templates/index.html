{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-5">
    <!-- Welcome Message -->
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold" data-key="WelcomeMessage">Welcome to DistribuTrack â€“ Your Food Distribution Hub!</h1>
        <p class="lead" data-key="WelcomeSubtitle">Effortlessly Manage Customers, Orders, and Inventory!</p>
    </div>

    <!-- Role-Specific Features -->
    {% if session['role'] == 'admin' %}
    <!-- Admin Section -->
    <div class="row g-4">
        <!-- Customers Section -->
        <div class="col-md-12 mb-4">
            <div class="card card-custom text-center p-4">
                <div class="card-body">
                    <i class="fas fa-users fa-3x mb-3 text-primary"></i>
                    <h2 class="card-title mb-3" data-key="TotalCustomers">Total Customers</h2>
                    <p class="card-text display-3 fw-bold">{{ total_customers or 0 }}</p>
                    <p class="card-text mb-4">Manage your customer base efficiently.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/customers" class="btn btn-primary btn-lg rounded-pill" data-key="ViewCustomers">
                            <i class="fas fa-eye me-2"></i>View Customers
                        </a>
                        <a href="/add_customer" class="btn btn-success btn-lg rounded-pill" data-key="AddCustomer">
                            <i class="fas fa-plus me-2"></i>Add Customer
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Orders Section -->
        <div class="col-md-12 mb-4">
            <div class="card card-custom text-center p-4">
                <div class="card-body">
                    <i class="fas fa-shopping-cart fa-3x mb-3 text-primary"></i>
                    <h2 class="card-title mb-3" data-key="TotalOrders">Total Orders</h2>
                    <p class="card-text display-3 fw-bold">{{ total_orders or 0 }}</p>
                    <p class="card-text mb-4">Track and manage all your orders in one place.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/orders" class="btn btn-primary btn-lg rounded-pill" data-key="ViewOrders">
                            <i class="fas fa-eye me-2"></i>View Orders
                        </a>
                        <a href="/add_order" class="btn btn-success btn-lg rounded-pill" data-key="AddOrder">
                            <i class="fas fa-plus me-2"></i>Add Order
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Inventory Section -->
        <div class="col-md-12 mb-4">
            <div class="card card-custom text-center p-4">
                <div class="card-body">
                    <i class="fas fa-boxes fa-3x mb-3 text-primary"></i>
                    <h2 class="card-title mb-3" data-key="LowStockProducts">Low Stock Products</h2>
                    <p class="card-text display-3 fw-bold">{{ low_stock_products|length or 0 }}</p>
                    <p class="card-text mb-4">Stay on top of your inventory levels.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/inventory" class="btn btn-primary btn-lg rounded-pill" data-key="ViewInventory">
                            <i class="fas fa-eye me-2"></i>View Inventory
                        </a>
                        <a href="/add_stock" class="btn btn-success btn-lg rounded-pill" data-key="AddStock">
                            <i class="fas fa-plus me-2"></i>Add Stock
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% elif session['role'] == 'sales' %}
    <!-- Sales Rep Section -->
    <div class="row g-4">
        <!-- Assigned Stock Section -->
        <div class="col-md-12 mb-4">
            <div class="card card-custom text-center p-4">
                <div class="card-body">
                    <i class="fas fa-box fa-3x mb-3 text-primary"></i>
                    <h2 class="card-title mb-3" data-key="MyAssignedStock">My Assigned Stock</h2>
                    <p class="card-text display-3 fw-bold">{{ assigned_stock or 0 }}</p>
                    <p class="card-text mb-4">Manage the stock assigned to you.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/view_assigned_stock" class="btn btn-primary btn-lg rounded-pill" data-key="ViewStock">
                            <i class="fas fa-eye me-2"></i>View Stock
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- To-Visit List Section -->
        <div class="col-md-12 mb-4">
            <div class="card card-custom text-center p-4">
                <div class="card-body">
                    <i class="fas fa-calendar-check fa-3x mb-3 text-primary"></i>
                    <h2 class="card-title mb-3" data-key="ToVisitList">To-Visit List</h2>
                    <p class="card-text display-3 fw-bold">{{ to_visit_list|length or 0 }}</p>
                    <p class="card-text mb-4">Plan and track your customer visits.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/to_visit" class="btn btn-primary btn-lg rounded-pill" data-key="ViewVisits">
                            <i class="fas fa-eye me-2"></i>View Visits
                        </a>
                        <a href="/add_to_visit" class="btn btn-success btn-lg rounded-pill" data-key="AddVisit">
                            <i class="fas fa-plus me-2"></i>Add Visit
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}